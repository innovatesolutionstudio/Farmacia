<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asistente Virtual de Farmacia</title>
    <link rel="stylesheet" href="/resources/css/consulta.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="top-header">
        <a href="/pagina_pedidos/clientes_index/:idSucursal" class="logo">
            <img src="/resources/images/iconos/farmacia.ico" alt="Farmacia 25 de Julio">
        </a>     
        <ul>
            <li><a href="/pagina_pedidos/clientes_index/:idSucursal">Inicio</a></li>
            <li><a href="/pagina_pedidos/productos/:idSucursal">Tienda</a></li>
            <li><a href="/pagina_pedidos/consultas">Consultas</a></li>
            <li><a href="/pagina_pedidos/miscompras">Compras</a></li>
            <li><a href="/pagina_pedidos/recordatorio">Recordatorio</a></li>
        </ul>
        <div>
            <a href="#" class="cart-icon"  onclick="mostrarCarrito(); return false;">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count">0</span>
            </a>
            
            <select class="location-select">
                <option>25 de julio "Santiago"</option>
            </select>

            

            <a href="/pagina_pedidos/logout" class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Cerrar Sesion</span>
            </a>
        </div>
    </div>
    <div class="container">
        <h1>¬øEn qu√© puedo ayudarte hoy?</h1>
        <p class="welcome-message">¬°Hola! üëã Soy tu asistente virtual de la Farmacia 25 de Julio.<br>
        Estoy aqu√≠ para ayudarte a encontrar el mejor producto o medicamento seg√∫n tus s√≠ntomas.</p>

        <div class="options-grid">
            <div class="option-card" onclick="mostrarBuscador()">
                <h3>Necesito ayuda con un s√≠ntoma espec√≠fico</h3>
                <p>Ingresa tus s√≠ntomas...</p>
                <i class="fas fa-chevron-right arrow-icon"></i>
            </div>
            <div class="option-card" onclick="mostrarBuscador()">
                <h3>Quiero saber qu√© puedo tomar para un malestar</h3>
                <p>Podremos sugerirte la acci√≥n...</p>
                <i class="fas fa-chevron-right arrow-icon"></i>
            </div>
            <div class="option-card" onclick="mostrarBuscador()">
                <h3>Opciones de productos para el alivio general</h3>
                <p>Podemos enviarte algunos productos...</p>
                <i class="fas fa-chevron-right arrow-icon"></i>
            </div>
            <div class="option-card" onclick="mostrarBuscador()">
                <h3>Necesito asesor√≠a sobre medicamentos</h3>
                <p>Te podemos dar informaci√≥n...</p>
                <i class="fas fa-chevron-right arrow-icon"></i>
            </div>
        </div>

        <div class="search-container" id="searchContainer" >
            <form id="buscador-form" class="search-form">
                <input  style="font-family: 'Poppins', sans-serif;" type="text" id="medicamento" class="search-input" 
                       placeholder="Describe tus s√≠ntomas o el medicamento que buscas" required>
                <button  style="font-family: 'Poppins', sans-serif;" type="submit" class="search-button">
                    <i class="fas fa-search"></i> Buscar
                </button>
            </form>
            <div id="resultado" class="resultado"></div>
            <ul id="lista-items" class="lista-items"></ul>
        </div>
    </div>
<!-- Secci√≥n de contacto al final -->
<div id="contacto" class="contact-container">
    <div class="contact-info">
        <h2 style="color: #334A69">Contacto</h2>
        <p>Si tienes alguna duda, no dudes en contactarnos. Estaremos encantados de ayudarte.</p>
        <div class="contact-details">
            <div class="detail-item">
                <i class="fas fa-clock"></i>
                <div>
                    <strong>Horario de Atenci√≥n:</strong>
                    <p>Lunes a Viernes, 9:00 - 18:00</p>
                </div>
            </div>
            <div class="detail-item">
                <i class="fas fa-phone-alt"></i>
                <div>
                    <strong>Tel√©fono:</strong>
                    <p>+591 XXXXXXXX</p>
                </div>
            </div>
            <div class="detail-item">
                <i class="fas fa-envelope"></i>
                <div>
                    <strong>Correo Electr√≥nico:</strong>
                    <p>farmacia25julio@ejemplo.com</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Mapa de Google -->
    <div class="map-container">
        <h3 style="color: #334A69">Vis√≠tanos</h3>
        <p>Estamos ubicados en El Alto, La Paz, Bolivia:</p>
        <div class="map-embed">
            <!-- Aqu√≠ agregas el enlace de Google Maps -->
            <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5977.735616871491!2d-68.11930320270277!3d-16.500038149523107!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x93e37874cc2e2c6f%3A0x6977e6a8ffb104ef!2sEl%20Alto%2C%20La%20Paz%2C%20Bolivia!5e0!3m2!1ses!2ses!4v1699388895394!5m2!1ses!2ses" 
                width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
        </div>
    </div>
</div>
        <!-- Aseg√∫rate de incluir Font Awesome -->
     <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>
    <script>
        function mostrarBuscador() {
            document.getElementById('searchContainer').classList.add('active');
        }

        document.getElementById('buscador-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const medicamento = document.getElementById('medicamento').value;
            try {
                const response = await fetch('/buscar', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ medicamento }),
                });
                const data = await response.json();
                document.getElementById('resultado').innerText = data.informacion;
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('resultado').innerText = 
                    'Lo siento, hubo un error al procesar tu solicitud. Por favor, intenta de nuevo.';
            }
        });
    </script>
</body>
</html>